<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Pick Meal - ì¸ê¸° ë­í‚¹</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Fredoka', sans-serif; background-color: #FFF5F0; }
        .ranking-card { border-radius: 3rem; background: white; box-shadow: 0 20px 50px rgba(0,0,0,0.05); }
        /* ìˆœìœ„ë³„ ë©”ë‹¬ ìƒ‰ìƒ */
        .rank-1 { color: #FFD700; } /* ê¸ˆ */
        .rank-2 { color: #C0C0C0; } /* ì€ */
        .rank-3 { color: #CD7F32; } /* ë™ */
    </style>
</head>
<body class="p-6 md:p-12">
<div class="max-w-4xl mx-auto ranking-card p-8 md:p-12">
    <h1 class="text-4xl font-black text-[#FF8A5B] italic text-center mb-10 uppercase tracking-tighter">
        ğŸ† TOP 10 RANKING ğŸ†
    </h1>

    <div class="overflow-hidden">
        <table class="w-full text-left">
            <thead class="border-b-2 border-[#FFF5F0]">
            <tr class="text-[#FF8A5B] font-black italic uppercase">
                <th class="py-4 px-2">Rank</th>
                <th class="py-4 px-2 text-center">Photo</th>
                <th class="py-4 px-2">Menu</th>
                <th class="py-4 px-2 text-right">Wins</th>
            </tr>
            </thead>
            <tbody class="divide-y divide-gray-50">
            <tr th:each="food, iterStat : ${rankingList}"
                th:classappend="${iterStat.count == 1} ? 'bg-orange-50' : ''"
                class="hover:bg-orange-100 transition-colors group">

                <td class="py-6 px-2 font-black italic text-3xl text-gray-300 transition-all duration-300"
                    th:classappend="${iterStat.count == 1} ? 'text-[#FF8A5B] scale-110' : 'group-hover:text-[#FF8A5B]'">

                    <span th:if="${iterStat.count == 1}">ğŸ¥‡</span>
                    <span th:if="${iterStat.count == 2}">ğŸ¥ˆ</span>
                    <span th:if="${iterStat.count == 3}">ğŸ¥‰</span>

                    [[${iterStat.count}]]
                </td>

                <td class="py-4 px-2 flex justify-center">
                    <div class="w-20 h-20 rounded-2xl overflow-hidden shadow-md group-hover:rotate-3 transition-transform">
                        <img th:src="${food.imagePath}" class="w-full h-full object-cover">
                    </div>
                </td>

                <td class="py-4 px-2 font-bold text-gray-700 text-xl italic cursor-pointer hover:text-[#FF8A5B] hover:underline decoration-2 transition-all"
                    th:attr="data-name=${food.foodName}"
                    onclick="openMap(this)">
                    [[${food.foodName}]]
                </td>

                <td class="py-4 px-2 text-right font-black text-[#FF8A5B] italic text-2xl group-hover:scale-110 transition-transform">
                    [[${food.winCount}]] <span class="text-sm">íšŒ</span>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

    <div class="mt-12 flex flex-col md:flex-row justify-center items-center gap-4 max-w-2xl mx-auto px-4">

        <button onclick="location.href='/'"
                class="w-full md:w-auto px-10 py-4 bg-[#FF8A5B] text-white rounded-full font-black text-xl shadow-lg hover:scale-105 transition-all italic uppercase">
            Back to Home ğŸ 
        </button>

        <button onclick="window.shareRanking()"
                class="w-full md:w-auto px-10 py-4 bg-[#FF8A5B] text-white rounded-full font-black text-xl shadow-lg hover:scale-105 hover:bg-[#ff7a45] transition-all flex items-center justify-center gap-3">
            <span>SHARE</span>
            <span class="text-2xl">ğŸ”—</span>
        </button>

    </div>
</div>
<script>
    // [ë¹„ìœ ] ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ë°”êµ¬ë‹ˆ(data-name)ì—ì„œ ìŒì‹ ì´ë¦„ì„ êº¼ë‚´ ì§€ë„ë¥¼ ì—´ì–´ì£¼ëŠ” ì ì›(í•¨ìˆ˜)ì…ë‹ˆë‹¤.
    function openMap(element) {
        // í´ë¦­ëœ ìš”ì†Œ(this)ì˜ data-name ë³´ê´€í•¨ì—ì„œ ì´ë¦„ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
        const foodName = element.getAttribute('data-name');
        // ì•ˆì „í•˜ê²Œ ì£¼ì†Œë¥¼ ì¡°í•©í•˜ì—¬ ìƒˆ ì°½ìœ¼ë¡œ ì—½ë‹ˆë‹¤.
        const mapUrl = 'https://map.kakao.com/link/search/' + encodeURIComponent(foodName);
        window.open(mapUrl);
    }
</script>
<script>
    // ranking.htmlì˜ ìŠ¤í¬ë¦½íŠ¸ êµ¬ì—­ (image_8d5eb9.png ë¶€ë¶„)
    window.shareRanking = function() {
    // 1. í˜„ì¬ í˜ì´ì§€ì˜ ì£¼ì†Œë§Œ ê°€ì ¸ì˜µë‹ˆë‹¤.
    const currentUrl = window.location.origin + "/worldcup/ranking";

    // 2. [ë¹„ìœ ] ê¸´ ì„¤ëª… ë¬¸êµ¬ ëŒ€ì‹  'ì£¼ì†Œ'ë§Œ ê¹”ë”í•˜ê²Œ í´ë¦½ë³´ë“œì— ë‹´ìŠµë‹ˆë‹¤.
    navigator.clipboard.writeText(currentUrl).then(() => {
        // 3. ì„±ê³µ ì•Œë¦¼ ë©”ì‹œì§€ë„ ì§§ê³  ëª…í™•í•˜ê²Œ ë°”ê¿‰ë‹ˆë‹¤.
        alert("âœ¨ ë­í‚¹ ì£¼ì†Œê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!");
    });
};
</script>
</body>
</html>