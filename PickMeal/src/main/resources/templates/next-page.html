<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pick Meal - Menu Slide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <style>
        /* 1. bodyÎ•º flex Íµ¨Ï°∞Î°ú ÎßåÎì§Í≥† ÏµúÏÜå ÎÜíÏù¥Î•º ÌôîÎ©¥ Ï†ÑÏ≤¥(100vh)Î°ú ÏÑ§Ï†ï */
        body {
            font-family: 'Fredoka', sans-serif;
            background-color: #FDF5E6;
            margin: 0;
            cursor: default;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        .nav-link { font-family: 'Fredoka', sans-serif; font-weight: 700; font-style: italic; }
        .section-title { font-family: 'Fredoka', sans-serif; font-weight: 800; font-style: italic; letter-spacing: -2px; color: #1a1a1a; }
        .swiper-container-wrapper { position: relative; padding: 0 50px; max-width: 1400px; margin: 0 auto; }
        .swiper { width: 100%; padding-bottom: 60px !important; padding-top: 20px !important; }
        .food-card { transition: all 0.3s ease; height: 100%; cursor: pointer; border-radius: 3rem; }
        .food-card:hover { transform: translateY(-10px); }
        .swiper-button-next, .swiper-button-prev { color: #FF8A5B !important; }
    </style>
</head>
<body>
<header th:replace="~{fragments/header :: headerFragment}"></header>

<div class="flex-grow px-10 pb-20 pt-32">
    <div class="flex justify-between items-end mb-12">
        <div>
            <h2 class="text-5xl font-black text-[#FF8A5B] italic uppercase tracking-tighter mb-4">Hot List</h2>
            <p class="text-[#FF8A5B] mt-3 font-bold italic">What's your favorite meal today?</p>
        </div>
    </div>

    <div class="swiper-container-wrapper">
        <div class="swiper mySwiper">
            <div class="swiper-wrapper" id="menuWrapper">
                <div class="swiper-slide p-2" th:each="rest : ${popularRestList}">

                    <div class="food-card bg-white overflow-hidden shadow-lg border-2 border-gray-50 p-6"
                         th:onclick="|location.href='@{/restaurant/detail/{id}(res_id=${rest.res_id})}'|">

                        <div class="bg-[#FFF5F0] h-56 rounded-[2.5rem] mb-5 flex flex-col items-center justify-center select-none transition hover:bg-[#FF8A5B] hover:text-white group">
                            <div class="text-5xl mb-2 group-hover:scale-125 transition">‚ù§Ô∏è</div>
                            <div class="text-[#FF8A5B] text-2xl font-black group-hover:text-white"
                                 th:text="${rest.wishCount} + ' Pick!'">5 Pick!</div>
                        </div>

                        <div class="px-4 text-center">
                            <h3 class="text-2xl font-black text-gray-800 italic uppercase truncate"
                                th:text="${rest.representative_menu}">ÎåÄÌëú Î©îÎâ¥</h3>

                            <p class="text-gray-500 mt-2 font-bold" th:text="${rest.res_name}">ÏãùÎãπ Ïù¥Î¶Ñ</p>

                            <div class="flex justify-between items-center mt-6">
                                <span class="text-[#FF8A5B] text-xl font-black"
                                      th:text="${#numbers.formatInteger(rest.menu_price, 0, 'COMMA')} + ' Ïõê'">15,000 Ïõê</span>
                                <button class="bg-[#A8D5BA] text-white px-5 py-2 rounded-full font-black shadow-md hover:bg-[#8fc7a5] transition text-sm">Î≥¥Îü¨Í∞ÄÍ∏∞</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
    const menuItems = [
        { name: "Pepperoni Pizza", price: "15,000", emoji: "üçï" },
        { name: "Cheese Burger", price: "12,000", emoji: "üçî" },
        { name: "Premium Sushi", price: "18,000", emoji: "üç£" },
        { name: "Cream Pasta", price: "14,000", emoji: "üçù" },
        { name: "Beef Steak", price: "35,000", emoji: "ü•©" },
        { name: "Fried Chicken", price: "20,000", emoji: "üçó" }
    ];

    document.getElementById('menuWrapper').innerHTML = menuItems.map(item => `
        <div class="swiper-slide p-2">
            <div class="food-card bg-white overflow-hidden shadow-lg border-2 border-gray-50 p-6">
                <div class="bg-[#FFF5F0] h-56 rounded-[2.5rem] mb-5 flex items-center justify-center text-7xl select-none">${item.emoji}</div>
                <div class="px-4 text-center">
                    <h3 class="text-2xl font-black text-gray-800 italic uppercase">${item.name}</h3>
                    <div class="flex justify-between items-center mt-6">
                        <span class="text-[#FF8A5B] text-xl font-black">${item.price} KRW</span>
                        <button class="bg-[#A8D5BA] text-white px-6 py-2 rounded-full font-black shadow-md hover:bg-[#8fc7a5] transition uppercase text-sm">Add</button>
                    </div>
                </div>
            </div>
        </div>
    `).join('');

    new Swiper(".mySwiper", {
        slidesPerView: 3,
        spaceBetween: 25,
        loop: true,
        navigation: { nextEl: ".swiper-button-next", prevEl: ".swiper-button-prev" },
        breakpoints: { 320: { slidesPerView: 1 }, 768: { slidesPerView: 2 }, 1024: { slidesPerView: 3 } }
    });
</script>

<footer th:replace="~{fragments/footer :: footerFragment}"></footer>
</body>
</html>