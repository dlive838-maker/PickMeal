<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pick Meal - Menu Slide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <style>
        /* 1. body를 flex 구조로 만들고 최소 높이를 화면 전체(100vh)로 설정 */
        body {
            font-family: 'Fredoka', sans-serif;
            background-color: #FDF5E6;
            margin: 0;
            cursor: default;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        .nav-link { font-family: 'Fredoka', sans-serif; font-weight: 700; font-style: italic; }
        .section-title { font-family: 'Fredoka', sans-serif; font-weight: 800; font-style: italic; letter-spacing: -2px; color: #1a1a1a; }
        .swiper-container-wrapper { position: relative; padding: 0 50px; max-width: 1400px; margin: 0 auto; }
        .swiper { width: 100%; padding-bottom: 60px !important; padding-top: 20px !important; }
        .food-card { transition: all 0.3s ease; height: 100%; cursor: pointer; border-radius: 3rem; }
        .food-card:hover { transform: translateY(-10px); }
        .swiper-button-next, .swiper-button-prev { color: #FF8A5B !important; }
    </style>
</head>
<body>
<header th:replace="~{fragments/header :: headerFragment}"></header>

<div class="flex-grow px-10 pb-20 pt-32">
    <div class="flex justify-between items-end mb-12">
        <div>
            <h2 class="text-5xl font-black text-[#FF8A5B] italic uppercase tracking-tighter mb-4">Hot List</h2>
            <p class="text-[#FF8A5B] mt-3 font-bold italic">What's your favorite meal today?</p>
        </div>
    </div>

    <div th:if = "${popularRestList.size() > 0}" class="swiper-container-wrapper">
        <div class="swiper mySwiper">
            <div class="swiper-wrapper" id="menuWrapper">
                <div class="swiper-slide p-2" th:each="rest : ${popularRestList}">

                    <div class="food-card bg-white overflow-hidden shadow-lg border-2 border-gray-50 p-6">
                        <!-- th:onclick="|location.href='@{/restaurant/detail/{res_id}(res_id=${rest.restId})}'|" -->

                        <div class="bg-[#FFF5F0] h-56 rounded-[2.5rem] mb-5 flex flex-col items-center justify-center select-none transition hover:bg-[#FF8A5B] hover:text-white group">
                            <div class="text-5xl mb-2 group-hover:scale-125 transition">❤️</div>
                            <div class="text-[#FF8A5B] text-2xl font-black group-hover:text-white"
                                 th:text="${rest.wishCount} + ' Pick!'">5 Pick!</div>
                        </div>

                        <div class="px-4 text-center">
                            <h3 class="text-2xl font-black text-gray-800 italic uppercase truncate"
                                th:text="${rest.restMenu}">대표 메뉴</h3>

                            <p class="text-gray-500 mt-2 font-bold" th:text="${rest.restName}">식당 이름</p>

                            <div class="flex justify-between items-center mt-6">
                                <span class="text-[#FF8A5B] text-xl font-black"
                                      th:text="${rest.restPrice} + ' 원'">15,000 원</span>
                                <button class="bg-[#A8D5BA] text-white px-5 py-2 rounded-full font-black shadow-md hover:bg-[#8fc7a5] transition text-sm">보러가기</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>


    new Swiper(".mySwiper", {
        slidesPerView: 3,
        spaceBetween: 25,
        loop: true,
        navigation: { nextEl: ".swiper-button-next", prevEl: ".swiper-button-prev" },
        breakpoints: { 320: { slidesPerView: 1 }, 768: { slidesPerView: 2 }, 1024: { slidesPerView: 3 } }
    });
</script>

<footer th:replace="~{fragments/footer :: footerFragment}"></footer>
</body>
</html>